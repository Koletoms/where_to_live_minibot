# Telegram-бот для поиска отелей

Данный бот позволяет подбирать отели в соответствии с Вашими критериями поиска.
Ссылка на Telegram-бот: https://t.me/WhereToLiveminibot

## Дисклеймер

В данный момент реализован одноразовый бот с минимальным функционалом.
Реализована машина состояний для запуска определенных обработчиков сообщений от бота.
Все данные сейчас складываются в атрибуты классов.
Доступ к ним обработчики и функции получают через глобальную переменную. (что не правильно)

Следующий этап: Добавить SQLite, сгружать туда все данные от пользователя.
Тем самым избавится от классов и их атрибутов. Методы по обращению к API вынести в функции, которые необходимые
данные будут брать из БД. Поработать с ошибками.
Проверить, чтобы сообщения отсылаемые боту приходили в нужные чаты и людям.

Следующий следующий этап: Добавить логирование. Добавить отсев всех неизвестных команд и типов сообщений.

Следующий следующий следующий этап: Собрать функциональность остальных необходимых команд. Улучшить структуру кода.


## Функционал бота

С помощью данного боты Вы можете:

- подобрать отели по самой низкой или высокой цене;
- остальной функционал будет реализован в будущем.

По каждому отелю бот выводит следующие данные:

- Название отеля;
- Сайт отеля;
- Адрес отеля;
- Удаленность от центра в км;
- Стоимость проживания за ночь;
- Стоимость проживания за определённый период;
- Фото до 7 штук по запросу.

## Requirements

- Python 3.10+
- pyTelegramBotAPI==4.8.0
- requests==2.28.1

## Команды бота

- /start - запуск бота, выполняется автоматически при подключении к боту;
- /help - список команд и их описание;
- /lowprice — вывод самых дешёвых отелей в городе;
- /highprice — будет реализовано позже;
- /bestdeal — будет реализовано позже;
- /history — будет реализовано позже;

### Описание команд телеграм-бота

#### Поиск самых дешевых отелей (/lowprice)

1. При вводе команды /lowprice Бот запрашивает город, в котором Вы хотите найти отели;
2. Далее пользователь вводит название населенного пункта. Бот выполнит запрос к hotels api и выведет список локаций,
   которые имеют такое же название или соседствуют с ним;
3. Далее запрашивается кол-во отелей, которое необходимо вывести. До 10 штук;
4. Затем пользователь выбирает дату въезда и выезда;
5. После определения дат въезда и выезда бот спрашивает у пользователя, нужно ли вывести фотографии отеля;
   5.1 Затем пользователь вводит количество фотографий;
6. Выводит запрос на подтверждение запроса;
7. Выводит Отели.
